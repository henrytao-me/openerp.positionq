<?xml version="1.0" encoding="utf-8"?>
<openerp>
	<data>

		<!-- List view -->
		<record id="view_tree_vote" model="ir.ui.view">
			<field name="name">view_tree_vote</field>
			<field name="model">snc.vote</field>
			<field name="arch" type="xml">
				<!-- <tree string="Bỏ phiếu" version="7.0" buttons="{
					'button': {
						'string': 'Button Test',
						'class': 'oe_highlight'
					}					
				}"> -->
				<tree string="Bỏ phiếu" version="7.0">
					<field name="title"/>					
					<field name="state"/>
					<field name="close_price"/>
					<field name="close_date"/>
				</tree>
			</field>
		</record>

		<!-- Form view -->
		<record id="view_form_vote" model="ir.ui.view">
			<field name="name">view_form_vote</field>
			<field name="model">snc.vote</field>
			<field name="arch" type="xml">
				<form string="Bỏ phiếu" version="7.0">
					<header>
	                    <field name="state" widget="statusbar" clickable="True" />
	                </header>
					<sheet>
	                    <div>
	                    	<div class="oe_view_only">
	                    		<h2><field name="title" /></h2>	                    		
	                    	</div>
	                    	<div class="oe_edit_only">
	                    		<h2><field name="name" default_focus="1" placeholder="Tiêu đề" /></h2>
	                    		<field name="code_title" style="width: 20%%" />
	                    		<field name="code" style="width: 20%%" />
	                    		<field name="vote_date_title" style="width: 20%%" />
	                    		<field name="vote_date" style="width: 20%%" />	
	                    	</div>
	                    </div>
                    	<div class="oe_view_only">
                			<div attrs="{'invisible': [('hieu_luc','=', True)]}" class="oe_highlight" style="display:inline-block;padding:5px;">Hết thời gian bỏ phiếu</div>
                			<field name="hieu_luc" invisible="1"/>	
                		</div>	
                        <group> 
                        	<group>
                        		<field name="close_date"/>
                        	</group>
                        	<group>
                        		<field name="close_price" class="oe_view_only" />	
                        	</group>
                        </group>
                        <notebook colspan="4">
                        	<!-- <page string="Kết quả bỏ phiếu", attrs="{'invisible': [('state', '!=', 'closed')]}">
                        		<field name="vote_result_ids" />
                        	</page> -->
                        	
                        	<page string="Chi tiết bỏ phiếu" attrs="{'invisible': [('state', '=', 'draft')]}">
								<field name="vote_detail_ids" 
									widget="widget_poll"
									func_read="poll_read"
									func_add="poll_add"
									func_save="poll_save"/>
							</page>
							<!-- <page string="Chi tiết bỏ phiếu" attrs="{'invisible': [('state', '=', 'draft')]}">
								<field name="vote_detail_ids"/>
							</page> -->
                        	<page string="Phương án bỏ phiếu">
								<field name="vote_solution_ids"/>
							</page>	
						</notebook>
					</sheet>		
					<div class="oe_chatter">
                        <field name="message_follower_ids" widget="mail_followers"/>
                        <field name="message_ids" widget="mail_thread"/>
                    </div>			
				</form>
			</field>
		</record>

		<!-- Search view -->
		<record id="view_search_vote" model="ir.ui.view">
			<field name="name">view_search_vote</field>
			<field name="model">snc.vote</field>
			<field name="arch" type="xml">
				<search string="Bỏ phiếu">
					<!-- <field name="goi_thau_id" string="Gói thầu"/> -->
					<field name="create_date" string="Ngày tạo" filter_domain="[('create_date', 'ilike', self)]"/>
				</search>
			</field>
		</record>

		<!-- Actions -->
		<record id="action_tree_vote" model="ir.actions.act_window">
			<field name="name">Bỏ phiếu</field>
			<field name="res_model">snc.vote</field>
			<field name="view_type">form</field>
			<field name="view_mode">tree,form</field>
		</record>
		
		
		
		
		<!-- List view -->
		<record id="view_custom_snc_vote_thong_ke" model="ir.ui.view">
			<field name="name">view_tree_goi_thau</field>
			<field name="model">snc.goi.thau</field>
			<field name="arch" type="xml">
				<custom string="Thống kê bỏ phiếu giá lõi gói thầu" version="7.0"
					template_name="view_custom_snc_vote_thong_ke"
					template_data="dashboard_view">
				</custom>
			</field>
		</record>
		
        <!-- Actions -->
        <record id="action_custom_snc_vote_thong_ke" model="ir.actions.act_window">
            <field name="name">Thống kê bỏ phiếu giá lõi gói thầu</field>
            <field name="res_model">snc.vote</field>
            <field name="view_type">form</field>
            <field name="view_mode">custom</field>
            <field name="view_id" ref="view_custom_snc_vote_thong_ke"></field>
        </record>
        
	</data>
</openerp>