<?xml version="1.0" encoding="utf-8"?>
<openerp>
	<data>
		
		<!-- View -->
		
		<record id="edit_menu" model="ir.ui.view">
            <field name="model">ir.ui.menu</field>
            <field eval="8" name="priority"/>
            <field name="arch" type="xml">
                <tree string="Menu">
                    <field name="sequence"/>
                    <field icon="icon" name="complete_name" string="Menu"/>
                    <field name="vbase" string="Custom"></field>
                </tree>
            </field>
        </record>
        
		<record id="edit_menu_access" model="ir.ui.view">
            <field name="model">ir.ui.menu</field>
            <field name="arch" type="xml">
                <form string="Menu" version="7.0">
                  <sheet>
                    <group>
                        <group>
                            <field name="name"/>
                            <field name="parent_id"/>
                            <field name="sequence"/>
                        </group>
                        <group>
                            <field name="complete_name"/>
                            <field name="action"/>
                        </group>
                    </group>
                    <notebook>
                        <page string="Groups">
                            <field name="groups_id"/>
                        </page>
                        <page string="Submenus">
                            <!-- Note: make sure you have 'ir.ui.menu.full_list'
                                 in the context to see all submenus! -->
                            <field name="child_id"
                                    context="{'default_parent_id': active_id}">
                                <tree string="Menu">
                                    <field name="sequence"/>
                                    <field icon="icon" name="name" string="Menu"/>
                                </tree>
                            </field>
                        </page>
                    </notebook>
                   </sheet> 
                </form>
            </field>
        </record>
        
        <!-- Search -->
        
        <record id="edit_menu_access_search" model="ir.ui.view">
            <field name="name">ir.ui.menu.search</field>
            <field name="model">ir.ui.menu</field>
            <field name="arch" type="xml">
                <search string="Menu">
                    <field name="name" string="Menu"/>
                    <field name="parent_id"/>
                    <filter string="VietERP Base Menu" name="filter_vbase" domain="[('vbase','=',True)]"/>
                </search>
            </field>
        </record>
        
		<!-- Actions -->
		
		<record id="grant_menu_access" model="ir.actions.act_window">
            <field name="name">Menu Items</field>
            <field name="res_model">ir.ui.menu</field>
            <field name="view_type">form</field>
            <field name="view_id" ref="edit_menu"/>
            <field name="context">{'ir.ui.menu.full_list':True, 'vbase': True, 'search_default_filter_vbase': 1}</field>
            <field name="search_view_id" ref="edit_menu_access_search"/>
        </record>
        <record id="grant_menu_access_tree" model="ir.actions.act_window.view">
            <field name="view_mode">tree</field>
            <field name="view_id" ref="edit_menu"/>
            <field name="act_window_id" ref="grant_menu_access"/>
        </record>
        <record id="grant_menu_access_form" model="ir.actions.act_window.view">
            <field name="view_mode">form</field>
            <field name="view_id" ref="edit_menu_access"/>
            <field name="act_window_id" ref="grant_menu_access"/>
        </record>
		
	</data>
</openerp>