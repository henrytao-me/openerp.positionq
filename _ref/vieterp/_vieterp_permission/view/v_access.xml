<?xml version="1.0" encoding="utf-8"?>
<openerp>
	<data>
	
		<!-- List view -->
		<record id="view_tree_v_access" model="ir.ui.view">
			<field name="name">view_tree_v_access</field>
			<field name="model">v.access</field>
			<field name="arch" type="xml">
				<tree string="Phân quyền" version="7.0"
						create="false"
						hide_selector="true"
						widget="group_by, custom" 
						list_template="v_access.list"						
						rows_template="v_access.rows">
					<field name="group_id"/>
					<field name="user_id"/>					
					<field name="object_id"/>
					
					<field name="real_perm_read" invisible="1"/>
					<field name="perm_read"/>
					
					<field name="real_perm_write" invisible="1"/>
					<field name="perm_write"/>
					
					<field name="real_perm_create" invisible="1"/>
					<field name="perm_create"/>
					
					<field name="real_perm_unlink" invisible="1"/>
					<field name="perm_unlink"/>
					
					<field name="real_perm_manage" invisible="1"/>
					<field name="perm_manage"/>
					
					<field name="_free" string=" "/>
					
					<!-- <field name="real_perm_read"></field>
					<field name="real_perm_write"></field>
					<field name="real_perm_create"></field>
					<field name="real_perm_unlink"></field>
					<field name="real_perm_manage"></field>
					
					<field name="_free" string=" "/>
					
					<field name="parent_perm_read"></field>
					<field name="parent_perm_write"></field>
					<field name="parent_perm_create"></field>
					<field name="parent_perm_unlink"></field>
					<field name="parent_perm_manage"></field> -->
				</tree>
			</field>
		</record>
		
		
		<!-- Search view -->
		<record id="view_search_v_access" model="ir.ui.view">
            <field name="name">view_search_v_access</field>
            <field name="model">v.access</field>
            <field name="arch" type="xml">
	            <search string="Phân quyền">
					<!-- <field name="group_name"/>
					<field name="user_name"/>					
					<field name="object_name"/> -->
					<field name="group_id"/>
					<field name="user_id"/>					
					<field name="object_id"/>
					<group string="Gom nhóm theo...">
						<filter name="filter_group" string="Nhóm người dùng" icon="terp-personal" 
							context="{'group_by' : 'group_id'}" />
						<filter name="filter_user" string="Người dùng" icon="terp-personal" 
							context="{'group_by' : 'user_id'}" />		
						<filter name="filter_object" string="Đối tượng" icon="terp-personal" 
							context="{'group_by' : 'object_id'}" />
					</group>					
				</search>
            </field>
        </record>
        
        <!-- Actions -->
        <record id="action_tree_v_access" model="ir.actions.act_window">
            <field name="name">Phân quyền</field>
            <field name="res_model">v.access</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree</field>
            <field name="domain">[('level', '=', 3)]</field>
            <field name="context">{'ui_write': 1}</field>
        </record>
	
	</data>
</openerp>